{% extends 'base.html.twig' %}

{% block title %}Liste Rendez-Vous{% endblock %}

{% block body %}
    <h1>Liste Rendez-Vous</h1>

    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Immatriculation</th>
                <th>Propriétaire</th>
                <th>Contact</th>
                <th>Mail</th>
                <th>Adresse</th>
                <th>Date de Prise du Rendez-Vous</th>
                <th>Date du Rendez-Vous</th>
                <th>Heure du Rendez-Vous</th>
                <th>Confirmation</th>
                <th>Date et Heure d'Arrive au Rendez-Vous</th>
                <th>Date et Heure du Fin de la Visite</th>
                <th>Date et Heure du Début de la Visite</th>
                <th>Annulation du Rendez-Vous</th>
                <th>Date et Heure d'Annulation du Rendez-Vous</th>
                <th>Code Rendez-Vous</th>
                <th>Date de Modification du Rendez-Vous</th>
                <th>Date d'Origine du Rendez-Vous</th>
                <th>Nombre de Modification</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for rendez_vou in rendez_vouses %}
            <tr>
                <td>{{ rendez_vou.id }}</td>
                <td>{{ rendez_vou.immatriculation }}</td>
                <td>{{ rendez_vou.proprietaire }}</td>
                <td>{{ rendez_vou.contact }}</td>
                <td>{{ rendez_vou.mail }}</td>
                <td>{{ rendez_vou.adresse }}</td>
                <td>{{ rendez_vou.datePriseRendezVous ? rendez_vou.datePriseRendezVous|date('d/m/Y H:i:s') : '' }}</td>
                <td>{{ rendez_vou.dateRendezVous ? rendez_vou.dateRendezVous|date('d/m/Y') : '' }}</td>
                <td>{{ rendez_vou.heureRendezVous ? rendez_vou.heureRendezVous|date('H:i:s') : '' }}</td>
                <td>{{ rendez_vou.confirmation ? 'Oui' : 'Non' }}</td>
                <td>{{ rendez_vou.dateHeureArriveRendezVous ? rendez_vou.dateHeureArriveRendezVous|date('d/m/Y H:i:s') : '' }}</td>
                <td>{{ rendez_vou.dateHeureFinVisite ? rendez_vou.dateHeureFinVisite|date('d/m/Y H:i:s') : '' }}</td>
                <td>{{ rendez_vou.dateHeureDebutVisite ? rendez_vou.dateHeureDebutVisite|date('d/m/Y H:i:s') : '' }}</td>
                <td>{{ rendez_vou.annulationRendezVous ? 'Oui' : 'Non' }}</td>
                <td>{{ rendez_vou.dateHeureAnnulationRendezVous ? rendez_vou.dateHeureAnnulationRendezVous|date('d/m/Y H:i:s') : '' }}</td>
                <td>{{ rendez_vou.codeRendezVous }}</td>
                <td>{{ rendez_vou.dateModificationRendezVous ? rendez_vou.dateModificationRendezVous|date('d/m/Y H:i:s') : '' }}</td>
                <td>{{ rendez_vou.dateOrigineRendezVous ? rendez_vou.dateOrigineRendezVous|date('d/m/Y H:i:s') : '' }}</td>
                <td>{{ rendez_vou.nombreModification }}</td>
                <td>
                    <a href="{{ path('app_rendez_vous_show', {'id': rendez_vou.id}) }}" class="btn-action show"><i class="fas fa-eye"></i></a>
                    <a href="{{ path('app_rendez_vous_edit', {'id': rendez_vou.id}) }}" class="btn-action edit"><i class="fas fa-edit"></i></a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="20">Aucun enregistrement trouver</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div class="mt-4 d-flex justify-content-center">
        <nav>
            <ul class="pagination pagination-lg">
                {{ knp_pagination_render(rendez_vouses) }}
            </ul>
        </nav>
    </div>

    <a href="{{ path('app_rendez_vous_new') }}" class="btn-action new"><i class="fas fa-plus"></i> Nouveau</a>
{% endblock %}
